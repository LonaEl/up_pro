{"ast":null,"code":"import _toConsumableArray from \"C:/Users/1867792/up_pro/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/Users/1867792/up_pro/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\1867792\\\\up_pro\\\\client\\\\src\\\\components\\\\Home\\\\Home.js\",\n  _s = $RefreshSig$(),\n  _this = this,\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Container from '@mui/material/Container';\nimport Grow from '@mui/material/Grow';\nimport Grid from '@mui/material/Grid';\nimport AppBar from '@mui/material/AppBar';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { MuiChipsInput } from 'mui-chips-input';\nimport { getPostsBySearch } from '../../actions/posts';\nimport Posts from '../Posts/Posts';\nimport Form from '../Form/Form';\nimport Pagination from '../Pagination';\nimport useStyles from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useQuery() {\n  _s();\n  return new URLSearchParams(useLocation().search);\n}\n_s(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\nvar Home = function Home() {\n  _s2();\n  var _useStyles = useStyles(),\n    classes = _useStyles.classes;\n  var query = useQuery();\n  var page = query.get('page') || 1;\n  var searchQuery = query.get('searchQuery');\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentId = _useState2[0],\n    setCurrentId = _useState2[1];\n  var dispatch = useDispatch();\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    search = _useState4[0],\n    setSearch = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    tags = _useState6[0],\n    setTags = _useState6[1];\n  var navigate = useNavigate();\n  var searchPost = function searchPost() {\n    if (search.trim() || tags) {\n      dispatch(getPostsBySearch({\n        search: search,\n        tags: tags.join(',')\n      }));\n      navigate(\"/posts/search?searchQuery=\".concat(search || 'none', \"&tags=\").concat(tags.join(',')));\n    } else {\n      navigate('/');\n    }\n  };\n  /* \r\n    useEffect(() => {\r\n        dispatch(getPostsBySearch(search));\r\n    },[search]);  */\n\n  var handleKeyPress = function handleKeyPress(e) {\n    if (e.keyCode === 13) {\n      searchPost();\n    }\n  };\n  var handleAddChip = function handleAddChip(tag) {\n    return setTags([].concat(_toConsumableArray(tags), [tag]));\n  };\n  var handleDeleteChip = function handleDeleteChip(chipToDelete) {\n    return setTags(tags.filter(function (tag) {\n      return tag !== chipToDelete;\n    }));\n  };\n  var upload = function upload() {};\n  return /*#__PURE__*/_jsxDEV(Grow, {\n    in: true,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        justifyContent: \"space-between\",\n        alignItems: \"stretch\",\n        spacing: 3,\n        className: classes.gridContainer,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 9,\n          children: /*#__PURE__*/_jsxDEV(Posts, {\n            setCurrentId: setCurrentId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: [/*#__PURE__*/_jsxDEV(AppBar, {\n            className: classes.appBarSearch,\n            position: \"static\",\n            color: \"inherit\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              onKeyDown: handleKeyPress,\n              name: \"search\",\n              variant: \"outlined\",\n              label: \"Search title or name\",\n              fullWidth: true,\n              value: search,\n              onChange: function onChange(e) {\n                return setSearch(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(MuiChipsInput, {\n              style: {\n                margin: '10px 0'\n              },\n              value: tags,\n              onAddChip: handleAddChip,\n              onDeleteChip: handleDeleteChip,\n              label: \"Search by tag\",\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: searchPost,\n              className: classes.searchButton,\n              variant: \"contained\",\n              color: \"primary\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: upload,\n            children: \"Upload material\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 10\n          }, _this), !searchQuery && !tags.length && /*#__PURE__*/_jsxDEV(Paper, {\n            className: classes.pagination,\n            elevation: 6,\n            children: /*#__PURE__*/_jsxDEV(Pagination, {\n              page: page\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, _this);\n};\n_s2(Home, \"x2l4Jb0G4+GRNwyy+BslUr10aGg=\", false, function () {\n  return [useStyles, useQuery, useDispatch, useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","Container","Grow","Grid","AppBar","TextField","Button","Paper","useDispatch","useNavigate","useLocation","MuiChipsInput","getPostsBySearch","Posts","Form","Pagination","useStyles","useQuery","URLSearchParams","search","Home","classes","query","page","get","searchQuery","currentId","setCurrentId","dispatch","setSearch","tags","setTags","navigate","searchPost","trim","join","handleKeyPress","e","keyCode","handleAddChip","tag","handleDeleteChip","chipToDelete","filter","upload","gridContainer","appBarSearch","target","value","margin","searchButton","length","pagination"],"sources":["C:/Users/1867792/up_pro/client/src/components/Home/Home.js"],"sourcesContent":["import React, { useState} from 'react';\r\nimport Container from '@mui/material/Container';\r\nimport Grow from '@mui/material/Grow';\r\nimport Grid from '@mui/material/Grid';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport Paper from '@mui/material/Paper';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { MuiChipsInput } from 'mui-chips-input';\r\nimport { getPostsBySearch } from '../../actions/posts';\r\nimport Posts from '../Posts/Posts';\r\nimport Form from '../Form/Form';\r\nimport Pagination from '../Pagination';\r\nimport useStyles from './styles';\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\nconst Home = () => {\r\n  const { classes } = useStyles();\r\n  const query = useQuery();\r\n  const page = query.get('page') || 1;\r\n  const searchQuery = query.get('searchQuery');\r\n\r\n \r\n\r\n  const [currentId, setCurrentId] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [tags, setTags] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  const searchPost = () => {\r\n    if (search.trim() || tags) {\r\n      dispatch(getPostsBySearch({ search, tags: tags.join(',') }));\r\n      navigate(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`);\r\n    } else {\r\n      navigate('/');\r\n    }\r\n  };\r\n/* \r\n  useEffect(() => {\r\n      dispatch(getPostsBySearch(search));\r\n  },[search]);  */\r\n\r\n const handleKeyPress = (e) => {\r\n    if (e.keyCode === 13) {\r\n      searchPost();\r\n    }\r\n  };  \r\n\r\n  const handleAddChip = (tag) => setTags([...tags, tag]);\r\n\r\n  const handleDeleteChip = (chipToDelete) => setTags(tags.filter((tag) => tag !== chipToDelete));\r\n\r\n  const upload = () => {}\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid container justifyContent=\"space-between\" alignItems=\"stretch\" spacing={3} className={classes.gridContainer}>\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Posts setCurrentId={setCurrentId} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\r\n             \r\n              <TextField \r\n              onKeyDown={handleKeyPress} \r\n              name=\"search\" \r\n              variant=\"outlined\" \r\n              label=\"Search title or name\" \r\n              fullWidth \r\n              value={search} \r\n              onChange={(e) => setSearch(e.target.value)} />\r\n              \r\n              <MuiChipsInput\r\n                style={{ margin: '10px 0' }}\r\n                value={tags}\r\n                onAddChip={handleAddChip}\r\n                onDeleteChip={handleDeleteChip}\r\n                label=\"Search by tag\"\r\n                variant=\"outlined\"\r\n              /> \r\n\r\n              <Button onClick={searchPost} className={classes.searchButton} variant=\"contained\" color=\"primary\">Search</Button>\r\n\r\n        </AppBar>\r\n         <button onClick={upload} >Upload material</button>\r\n            {(\r\n              !searchQuery && !tags.length) && (\r\n              <Paper className={classes.pagination} elevation={6}>\r\n                <Pagination page={page} />\r\n              </Paper>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}