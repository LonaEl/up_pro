{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/1867792/up_pro/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/1867792/up_pro/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/1867792/up_pro/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\1867792\\\\up_pro\\\\client\\\\src\\\\components\\\\Rating\\\\Lon.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport { ratePost } from \"../../actions/posts\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar colors = {\n  orange: \"#FFBA5A\",\n  grey: \"#a9a9a9\"\n};\nvar Lon = function Lon(_ref) {\n  _s();\n  var post = _ref.post;\n  var user = JSON.parse(localStorage.getItem('profile'));\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    rating = _useState2[0],\n    setRating = _useState2[1];\n  var _useState3 = useState(undefined),\n    _useState4 = _slicedToArray(_useState3, 2),\n    hoverValue = _useState4[0],\n    setHoverValue = _useState4[1];\n  var dispatch = useDispatch();\n  var _useState5 = useState(post === null || post === void 0 ? void 0 : post.rates),\n    _useState6 = _slicedToArray(_useState5, 2),\n    rates = _useState6[0],\n    setRates = _useState6[1];\n  var rat = Array(5).fill(0);\n  var handleClick = function handleClick(value) {\n    setRating(value);\n  };\n  var handleMouseOver = function handleMouseOver(newHoverValue) {\n    setHoverValue(newHoverValue);\n  };\n  var handleMouseLeave = function handleMouseLeave() {\n    setHoverValue(undefined);\n  };\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n      var _user$result;\n      var newRate;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return dispatch(ratePost(\"\".concat(user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result.username, \": \").concat(rating), post._id));\n            case 3:\n              newRate = _context.sent;\n              setRates(newRate);\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var Sta = function Sta() {\n    if (rates.length > 0) {\n      return rates.find(function (rates) {\n        return rates;\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(FaStar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }, _this)\n    }, void 0, false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" React Ratings \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.stars,\n        children: rat.map(function (_, index) {\n          return /*#__PURE__*/_jsxDEV(FaStar, {\n            size: 24,\n            onClick: function onClick() {\n              return handleClick(index + 1);\n            },\n            onMouseOver: function onMouseOver() {\n              return handleMouseOver(index + 1);\n            },\n            onMouseLeave: handleMouseLeave,\n            color: (hoverValue || rating) > index ? colors.orange : colors.grey,\n            style: {\n              marginRight: 10,\n              cursor: \"pointer\"\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"post rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, _this);\n};\n_s(Lon, \"n/ndDW5NGK/fApYJUDXmVK5wm/0=\", false, function () {\n  return [useDispatch];\n});\n_c = Lon;\nvar styles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  stars: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  textarea: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    padding: 10,\n    margin: \"20px 0\",\n    minHeight: 100,\n    width: 300\n  },\n  button: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    width: 300,\n    padding: 10\n  }\n};\nexport default Lon;\nvar _c;\n$RefreshReg$(_c, \"Lon\");","map":{"version":3,"names":["useState","FaStar","ratePost","useDispatch","colors","orange","grey","Lon","post","user","JSON","parse","localStorage","getItem","rating","setRating","undefined","hoverValue","setHoverValue","dispatch","rates","setRates","rat","Array","fill","handleClick","value","handleMouseOver","newHoverValue","handleMouseLeave","handleSubmit","e","preventDefault","result","username","_id","newRate","Sta","length","find","styles","container","stars","map","_","index","marginRight","cursor","display","flexDirection","alignItems","textarea","border","borderRadius","padding","margin","minHeight","width","button"],"sources":["C:/Users/1867792/up_pro/client/src/components/Rating/Lon.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { FaStar } from \"react-icons/fa\";\r\nimport { ratePost } from \"../../actions/posts\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst colors = {\r\n    orange: \"#FFBA5A\",\r\n    grey: \"#a9a9a9\"\r\n    \r\n};\r\n\r\n\r\n\r\nconst Lon = ({ post }) => {\r\n  const user = JSON.parse(localStorage.getItem('profile'));\r\n  const [rating, setRating] = useState(0);\r\n  const [hoverValue, setHoverValue] = useState(undefined);\r\n  const dispatch = useDispatch();\r\n  const [rates, setRates] = useState(post?.rates);\r\n  const rat = Array(5).fill(0)\r\n\r\n  const handleClick = value => {\r\n    setRating(value)\r\n  };\r\n\r\n  const handleMouseOver = newHoverValue => {\r\n    setHoverValue(newHoverValue)\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHoverValue(undefined)\r\n  };\r\n\r\n  const handleSubmit = async(e) => {\r\n e.preventDefault();\r\n    const newRate =  await dispatch(ratePost(`${user?.result?.username}: ${rating}`, post._id));\r\n    setRates(newRate); \r\n    \r\n  };\r\n\r\n  const Sta = () => {\r\n    if (rates.length > 0) { return rates.find((rates) => rates)}\r\n    return <>\r\n    <FaStar />\r\n    </>\r\n  };\r\n\r\n\r\n\r\nreturn (\r\n    <div style={styles.container}>\r\n        <form onSubmit={handleSubmit}>\r\n      <h2> React Ratings </h2>\r\n      <div style={styles.stars}>\r\n        {rat.map((_, index) => {\r\n          return (\r\n            <FaStar\r\n              key={index}\r\n              size={24}\r\n              onClick={() => handleClick(index + 1)}\r\n              onMouseOver={() => handleMouseOver(index + 1)}\r\n              onMouseLeave={handleMouseLeave}\r\n              color={(hoverValue || rating) > index ? colors.orange : colors.grey}\r\n              style={{\r\n                marginRight: 10,\r\n                cursor: \"pointer\"\r\n              }}\r\n              \r\n            />\r\n          \r\n          )\r\n        })}\r\n      </div>\r\n      \r\n      <button type=\"submit\">\r\n        post rating\r\n      </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst styles = {\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  stars: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  textarea: {\r\n    border: \"1px solid #a9a9a9\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    margin: \"20px 0\",\r\n    minHeight: 100,\r\n    width: 300\r\n  },\r\n  button: {\r\n    border: \"1px solid #a9a9a9\",\r\n    borderRadius: 5,\r\n    width: 300,\r\n    padding: 10,\r\n  }\r\n\r\n};\r\n\r\n\r\n\r\n\r\nexport default Lon; "],"mappings":"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"},"metadata":{},"sourceType":"module"}