{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1867792\\\\Desktop\\\\complete_project\\\\client\\\\src\\\\components\\\\PasswordRest\\\\PasswordReset.jsx\";\nimport axios from \"axios\";\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst PasswordReset = () => {\n  const [valid, setValidUrl] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const param = useParams();\n  const url = `http://localhost:5000/api/password-reset/${param.id}/${param.token}`;\n  useEffect(() => {\n    const verifyUrl = async () => {\n      try {\n        await Axios.get(url);\n        setValidUrl(true);\n      } catch (error) {\n        setValidUrl(false);\n      }\n    };\n\n    verifyUrl();\n  }, [param, url]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const {\n        data\n      } = await axios.post(url, {\n        password\n      });\n      window.location = \"/auth\";\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 8\n    }\n  }, validUrl ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, \"Create new password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    name: \"name\",\n    value: value,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }))) : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"404 Not Found\"));\n};","map":{"version":3,"names":["axios","React","useState","useEffect","Fragment","useParams","PasswordReset","valid","setValidUrl","password","setPassword","param","url","id","token","verifyUrl","Axios","get","error","handleSubmit","e","preventDefault","data","post","window","location","console","log","validUrl","value","target"],"sources":["C:/Users/1867792/Desktop/complete_project/client/src/components/PasswordRest/PasswordReset.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, {useState, useEffect, Fragment} from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst PasswordReset = () => {\r\n    const [valid, setValidUrl] = useState(false);\r\n    const [password, setPassword] = useState(\"\");\r\n    const param = useParams();\r\n    const url = `http://localhost:5000/api/password-reset/${param.id}/${param.token}`\r\n\r\n  useEffect(() => {\r\n    const verifyUrl = async() => {\r\n        try {\r\n            await Axios.get(url);\r\n            setValidUrl(true)\r\n        } catch (error) {\r\n            setValidUrl(false)\r\n        }\r\n    };\r\n    verifyUrl()\r\n  }, [param, url]);\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n    try {\r\n        const { data } = await axios.post(url, { password });\r\n        window.location = \"/auth\"\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n  };\r\n\r\n    return (\r\n       <Fragment>\r\n        {validUrl ? (\r\n            <div>\r\n                <form onSubmit={handleSubmit} >\r\n                    <h1>Create new password</h1>\r\n                    <input \r\n                    type=\"password\"\r\n                    placeholder=\"Enter password\"\r\n                    name=\"name\"\r\n                    value={value}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                </form>\r\n            </div>\r\n        ) : (\r\n            <h1>404 Not Found</h1>\r\n        )}\r\n       </Fragment>\r\n    )\r\n};"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,QAApC,QAAmD,OAAnD;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,MAAMC,aAAa,GAAG,MAAM;EACxB,MAAM,CAACC,KAAD,EAAQC,WAAR,IAAuBN,QAAQ,CAAC,KAAD,CAArC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAMS,KAAK,GAAGN,SAAS,EAAvB;EACA,MAAMO,GAAG,GAAI,4CAA2CD,KAAK,CAACE,EAAG,IAAGF,KAAK,CAACG,KAAM,EAAhF;EAEFX,SAAS,CAAC,MAAM;IACd,MAAMY,SAAS,GAAG,YAAW;MACzB,IAAI;QACA,MAAMC,KAAK,CAACC,GAAN,CAAUL,GAAV,CAAN;QACAJ,WAAW,CAAC,IAAD,CAAX;MACH,CAHD,CAGE,OAAOU,KAAP,EAAc;QACZV,WAAW,CAAC,KAAD,CAAX;MACH;IACJ,CAPD;;IAQAO,SAAS;EACV,CAVQ,EAUN,CAACJ,KAAD,EAAQC,GAAR,CAVM,CAAT;;EAYA,MAAMO,YAAY,GAAG,MAAMC,CAAN,IAAY;IAC/BA,CAAC,CAACC,cAAF;;IACA,IAAI;MACA,MAAM;QAAEC;MAAF,IAAW,MAAMtB,KAAK,CAACuB,IAAN,CAAWX,GAAX,EAAgB;QAAEH;MAAF,CAAhB,CAAvB;MACAe,MAAM,CAACC,QAAP,GAAkB,OAAlB;IACH,CAHD,CAGE,OAAOP,KAAP,EAAc;MACZQ,OAAO,CAACC,GAAR,CAAYT,KAAZ;IACH;EACF,CARD;;EAUE,oBACG,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACEU,QAAQ,gBACL;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAM,QAAQ,EAAET,YAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,yBADJ,eAEI;IACA,IAAI,EAAC,UADL;IAEA,WAAW,EAAC,gBAFZ;IAGA,IAAI,EAAC,MAHL;IAIA,KAAK,EAAEU,KAJP;IAKA,QAAQ,EAAGT,CAAD,IAAOV,WAAW,CAACU,CAAC,CAACU,MAAF,CAASD,KAAV,CAL5B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFJ,CADJ,CADK,gBAcL;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBAfL,CADH;AAoBH,CAhDD"},"metadata":{},"sourceType":"module"}