{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1867792\\\\up_pro\\\\client\\\\src\\\\components\\\\screens\\\\RegisterScreen.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./RegisterScreen.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RegisterScreen = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const [lastname, setLastname] = useState(\"\");\n  const [firstname, setFirstname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const registerHandler = async e => {\n    e.preventDefault();\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    if (password !== confirmpassword) {\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n      return setError(\"Passwords do not match, let's try again\");\n    }\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/auth/register\", {\n        lastname,\n        firstname,\n        username,\n        email,\n        password\n      }, config);\n      localStorage.setItem(\"authToken\", data.token);\n      localStorage.setItem('profile', JSON.stringify(data.email));\n      history.push(\"/posts\");\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: registerHandler,\n      className: \"register-screen__form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"register-screen__title\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Last Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"lastname\",\n          required: true,\n          id: \"lastname\",\n          placeholder: \"Enter last name\",\n          value: lastname,\n          onChange: e => setLastname(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"First Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"firstname\",\n          required: true,\n          id: \"firstname\",\n          placeholder: \"Enter first name\",\n          value: firstname,\n          onChange: e => setFirstname(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          required: true,\n          id: \"name\",\n          placeholder: \"Enter username\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          required: true,\n          id: \"email\",\n          placeholder: \"Email address\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          required: true,\n          id: \"password\",\n          autoComplete: \"true\",\n          placeholder: \"Enter password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"confirmpassword\",\n          children: \"Confirm Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          required: true,\n          id: \"confirmpassword\",\n          autoComplete: \"true\",\n          placeholder: \"Confirm password\",\n          value: confirmpassword,\n          onChange: e => setConfirmPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"register-screen__subtext\",\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RegisterScreen, \"EetgdTU51+7EgA4XZ5DKjmHnyt8=\");\n\n_c = RegisterScreen;\nexport default RegisterScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterScreen\");","map":{"version":3,"names":["useState","axios","Link","RegisterScreen","history","lastname","setLastname","firstname","setFirstname","username","setUsername","email","setEmail","password","setPassword","confirmpassword","setConfirmPassword","error","setError","registerHandler","e","preventDefault","config","header","setTimeout","data","post","localStorage","setItem","token","JSON","stringify","push","response","target","value"],"sources":["C:/Users/1867792/up_pro/client/src/components/screens/RegisterScreen.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./RegisterScreen.css\";\r\n\r\nconst RegisterScreen = ({ history }) => {\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const registerHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const config = {\r\n      header: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    if (password !== confirmpassword) {\r\n      setPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n      return setError(\"Passwords do not match, let's try again\");\r\n    }\r\n\r\n    try {\r\n      const { data } = await axios.post(\r\n        \"/api/auth/register\",\r\n        { lastname,\r\n          firstname,\r\n          username,\r\n          email,\r\n          password,\r\n        },\r\n        config\r\n      );\r\n\r\n      localStorage.setItem(\"authToken\", data.token);\r\n\r\n      localStorage.setItem('profile', JSON.stringify( data.email));\r\n\r\n      history.push(\"/posts\");\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-screen\">\r\n      <form onSubmit={registerHandler} className=\"register-screen__form\">\r\n        <h3 className=\"register-screen__title\">Register</h3>\r\n        {error && <span className=\"error-message\">{error}</span>}\r\n        <div className=\"form-group\">\r\n\r\n        <label htmlFor=\"name\">Last Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"lastname\"\r\n            required\r\n            id=\"lastname\"\r\n            placeholder=\"Enter last name\"\r\n            value={lastname}\r\n            onChange={(e) => setLastname(e.target.value)}\r\n          />\r\n             <label htmlFor=\"name\">First Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"firstname\"\r\n            required\r\n            id=\"firstname\"\r\n            placeholder=\"Enter first name\"\r\n            value={firstname}\r\n            onChange={(e) => setFirstname(e.target.value)}\r\n          />\r\n\r\n\r\n          <label htmlFor=\"name\">Username:</label>\r\n          <input\r\n            type=\"text\"\r\n            required\r\n            id=\"name\"\r\n            placeholder=\"Enter username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n\r\n\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            required\r\n            id=\"email\"\r\n            placeholder=\"Email address\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"password\"\r\n            autoComplete=\"true\"\r\n            placeholder=\"Enter password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"confirmpassword\">Confirm Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"confirmpassword\"\r\n            autoComplete=\"true\"\r\n            placeholder=\"Confirm password\"\r\n            value={confirmpassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Register\r\n        </button>\r\n\r\n        <span className=\"register-screen__subtext\">\r\n          Already have an account? <Link to=\"/login\">Login</Link>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}